{% extends 'includes/global_layout.twig' %}
{% block content %}
{{ parent() }}
<div class="container">
  <div class="row">
    <div class="col-md-offset-3 col-md-6">
      {% include 'includes/flash.twig' %}  
      {% if handler.registerErrors is not empty %}
      <div class="alert alert-warning alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
        {% if handler.registerErrors|length > 1 %}
        <h4>{{ lang('THERE_ARE_ERRORS') }}</h4>
        <ul>
          {% for error in handler.registerErrors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
        {% else %}
          {{ handler.registerErrors.0 }}
        {% endif %}
      </div>
      {% endif %}
      <form method="post" action="{{ url('register') }}" role="form">
        <div class="form-group{% if handler.registerErrorUsername %} has-error{% endif %}">
          <label class="control-label" for="register[username]">{{ lang('USERNAME') }}</label>
          <input type="text" name="username" class="form-control" id="username"{% if handler.registerErrorUsername == false %} value="{{ handler.registerSavedUsername }}" {% endif %}{% if handler.registerFocusUsername %} autofocus{% endif %}>
        </div>
        <div class="form-group{% if handler.registerErrorPassword %} has-error{% elseif handler.registerErrorUsername or handler.registerErrorEmail %} has-warning{% endif %}">
          <label class="control-label" for="register[password]">{{ lang('PASSWORD') }}</label>
          <input type="password" name="password" class="form-control" id="password"{% if handler.registerFocusPassword %} autofocus{% endif %}>
        </div>
        <div class="form-group{% if handler.registerErrorEmail %} has-error{% endif %}">
          <label class="control-label" for="email">{{ lang('EMAIL') }}</label>
          <input type="text" name="register[email]" class="form-control" id="email"{% if handler.registerErrorEmail == false %} value="{{ handler.registerSavedEmail }}" {% endif %}{% if handler.registerFocusEmail %} autofocus{% endif %}>
        </div>
        <button type="submit" class="btn btn-block btn-primary">{{ lang('BTN_REGISTER') }}</button>
      </form>
    
    </div> <!-- /.col-md-6 -->
  </div> <!-- /.row -->
</div> <!-- /.container -->
{% endblock %}